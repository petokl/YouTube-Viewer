(this["webpackJsonpyoutube-viewer"]=this["webpackJsonpyoutube-viewer"]||[]).push([[0],{130:function(e){e.exports=JSON.parse('{"name":"youtube-viewer","version":"1.0.1","description":"Simple app starter using youtube api","private":true,"dependencies":{"@types/jest":"^28.1.1","@types/node":"^17.0.41","@types/react":"^17.0.44","@types/react-dom":"^18.0.0","@types/react-redux":"^7.1.24","@types/redux":"^3.6.0","@types/redux-persist":"^4.3.1","@types/redux-thunk":"^2.1.0","axios":"^0.27.2","bootstrap":"^5.1.3","lodash":"^4.17.21","react":"^18.1.0","react-comments-section":"^2.0.10","react-dom":"^18.1.0","react-redux":"^7.2.6","react-scripts":"^4.0.3","reactstrap":"^9.0.3","redux":"^4.1.2","redux-devtools-extension":"^2.13.9","redux-persist":"^6.0.0","redux-thunk":"^2.4.1","sass":"^1.52.2","typescript":"^4.7.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":[">0.2%","not dead","not ie <= 11","not op_mini all"]}')},281:function(e,t,s){},282:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s(10),a=s.n(n),o=s(16),i=s(11),r=s(3),l=function(e){return Object(r.jsx)(o.a,Object(i.a)(Object(i.a)({},e),{},{widths:["xxs","xs","sm","md","lg","xl","xxl"]}))},d=s(66),u=s.n(d),m=s(54),p=function(e){var t=e.onSearchTermChange,s=Object(c.useState)(""),n=Object(m.a)(s,2),a=n[0],i=n[1];return Object(r.jsx)(l,{xxs:12,className:"search-bar",children:Object(r.jsxs)(o.d,{className:"p-0 m-0",children:[Object(r.jsx)(l,{xxs:3,md:4,className:"search-bar-logo p-0",children:Object(r.jsx)(o.c,{href:"/",children:Object(r.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",height:"60"})})}),Object(r.jsxs)(l,{xxs:9,md:4,className:"search-bar-input",children:[Object(r.jsx)("i",{className:"fa-solid fa-magnifying-glass"}),Object(r.jsx)(o.b,{placeholder:"Search...",value:a,onChange:function(e){return function(e){i(e),t(e)}(e.target.value)}})]})]})})},j=function(e){var t=e.video,s=e.onVideoSelect,c=e.selectedVideo,n=t.snippet.thumbnails.default.url,a=c?c.id.videoId:null;return Object(r.jsx)("li",{onClick:function(){return s(t)},className:"list-group-item ".concat(t.id.videoId===a?"active-item":""),children:Object(r.jsx)(l,{xxs:12,className:"video-list media",children:Object(r.jsxs)(o.d,{children:[Object(r.jsx)(l,{xxs:4,className:"media-left",children:Object(r.jsx)("img",{className:"media-object",alt:"video thumbnail",src:n})}),Object(r.jsxs)(l,{xxs:8,className:"media-body",children:[Object(r.jsx)("div",{className:"media-heading text-light text-truncate",children:t.snippet.title}),Object(r.jsx)("div",{className:"media-subheading text-muted",children:t.snippet.title})]})]})})})},b=function(e){var t=e.videos,s=e.onVideoSelect,c=e.selectedVideo,n=t.map((function(e){return Object(r.jsx)(j,{onVideoSelect:s,video:e,selectedVideo:c},e.etag)}));return Object(r.jsx)(l,{xxs:12,md:4,className:"list-container p-0",children:Object(r.jsx)("ul",{className:"list-group",children:n})})},x=s(124),h=(s(150),function(e){var t=e.selectedComments,s=e.loadingComments;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x.a,{commentData:function(){var e=[];return t.items&&t.items.forEach((function(t){var s=t.snippet.topLevelComment,c=[];t.replies&&t.replies.comments.forEach((function(e){var t=e.snippet;c.push({userId:e.etag,comId:e.id,fullName:t.authorDisplayName,userProfile:t.authorChannelUrl,text:t.textOriginal,avatarUrl:t.authorProfileImageUrl})}));e.push({userId:s.etag,comId:s.id,fullName:s.snippet.authorDisplayName,userProfile:s.snippet.authorChannelUrl,text:s.snippet.textOriginal,avatarUrl:s.snippet.authorProfileImageUrl,replies:c})})),e},currentUser:null,logIn:{loginLink:"localhost:3000",signupLink:"localhost:3000"}}),s?Object(r.jsxs)(l,{xxs:12,className:"loading-comments-container text-center",children:[Object(r.jsx)(o.e,{type:"grow",style:{width:"10px",height:"10px"},color:"light"}),Object(r.jsx)(o.e,{type:"grow",style:{width:"10px",height:"10px"},color:"light"}),Object(r.jsx)(o.e,{type:"grow",style:{width:"10px",height:"10px"},color:"light"})]}):null]})}),g=function(e){var t=e.video,s=e.loading,c=e.selectedComments,n=e.loadingComments;return s||!t?Object(r.jsx)(l,{xxs:12,md:8,className:"loading-container",children:Object(r.jsx)("div",{className:"loading"})}):Object(r.jsxs)(l,{xxs:12,md:8,className:"video-detail",children:[Object(r.jsx)(l,{xxs:12,className:"mb-2",children:Object(r.jsx)("iframe",{title:t.snippet.title,width:"100%",height:600,src:"https://www.youtube.com/embed/".concat(t.id.videoId)})}),Object(r.jsxs)(l,{xxs:12,className:"details",children:[Object(r.jsx)("div",{className:"label text-light text-truncate",children:t.snippet.title}),Object(r.jsx)("div",{className:"desc text-muted text-truncate",children:t.snippet.description})]}),Object(r.jsx)(l,{xxs:12,className:"comments mt-5 mb-5",children:Object(r.jsx)(h,{loadingComments:n,selectedComments:c})})]})},O=s(130),v=function(){return Object(r.jsx)("footer",{className:"footer",children:Object(r.jsx)("div",{className:"container text-center",children:Object(r.jsxs)("p",{className:"text-muted",children:[(new Date).getFullYear()," \xa9 Karagiannis Aris Ver.: ",O.version]})})})},y=s(34),f=s(136),C=s(69),N=s.n(C),w="https://www.googleapis.com/youtube/v3",J="".concat(w,"/search"),A="".concat(w,"/commentThreads"),V={Accept:"application/json"},X="ACTION_YOUTUBE",E="CLEAR_YOUTUBE",k="CLEAR_ERROR_YOUTUBE",H="FETCH_YOUTUBE",L="ERROR_FETCH_YOUTUBE",P="ACTION_FETCH_COMMENTS",T="FETCH_COMMENTS",Y="ERROR_FETCH_COMMENTS",I="SET_SELECTED_VIDEO",S=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=V;return function(n){n({type:P}),N.a.get("".concat(A,"?part=snippet%2Creplies&pageToken=").concat(s,"&order=relevance&videoId=").concat(e,"&key=").concat(""),{headers:c}).then((function(e){var c=e.data.items,a=e.data.nextPageToken;if(console.log(a),s){var o=Object(f.a)(t).concat(c);n({type:T,payload:{pageToken:a,items:o}})}else console.log(a),n({type:T,payload:{pageToken:a,items:c}})})).catch((function(e){n({type:Y,payload:e.response.data.error.message})}))}},F=function(){var e=Object(y.d)((function(e){return{videos:e.youtube.videos,selectedVideo:e.youtube.selectedVideo,selectedComments:e.youtube.selectedComments,loading:e.youtube.loading,loadingComments:e.youtube.loadingComments,error:e.youtube.error}}),y.b),t=e.videos,s=e.selectedVideo,n=e.selectedComments,a=e.loading,i=e.loadingComments,d=e.error,m=Object(y.c)(),j=u.a.debounce((function(e){h(e)}),300),x=u.a.debounce((function(){O()}),1e3),h=function(e){m(function(e){var t=V;return function(s){s({type:X}),N.a.get("".concat(J,"?part=snippet&q=").concat(e,"&maxResults=20&type=video&key=").concat(""),{headers:t}).then((function(e){var t=e.data.items;S(t[0].id.videoId,null,""),s({type:H,payload:t}),s({type:I,payload:t[0]}),s(S(t[0].id.videoId,null,""))})).catch((function(e){s({type:L,payload:e.response.data.error.message})}))}}(e))};Object(c.useEffect)((function(){0===t.length&&h("acdc"),window.addEventListener("scroll",x)}),[]),Object(c.useEffect)((function(){d&&(alert(d),m({type:k}))}),[d,m]);var O=function(){var e=document.body,t=document.documentElement,c=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);(!a||!i)&&n.pageToken&&window.innerHeight+t.scrollTop+1>=c&&m(S(s.id.videoId,n.items,n.pageToken))};return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(p,{onSearchTermChange:j}),Object(r.jsx)(l,{xxs:12,className:"mt-3 mb-3 main-content",children:Object(r.jsxs)(o.d,{className:"p-0 m-0",children:[Object(r.jsx)(g,{video:s,selectedComments:n,loading:a,loadingComments:i}),Object(r.jsx)(b,{onVideoSelect:function(e){m({type:I,payload:e}),m(S(e.id.videoId,null,""))},videos:t,selectedVideo:s})]})}),Object(r.jsx)(v,{})]})},W=s(20),D=s(134),R=s(53),Z=s(132),K=s(133),M={videos:[],selectedVideo:null,selectedComments:{pageToken:null,items:null},loading:!0,loadingComments:!1,error:""},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:""});case E:return Object(i.a)(Object(i.a)(Object(i.a)({},e),M.videos),{},{selectedVideo:M.selectedVideo,selectedComments:M.selectedComments,error:""});case k:return Object(i.a)(Object(i.a)({},e),{},{error:""});case H:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,videos:t.payload,error:""});case L:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,videos:M.videos,error:t.payload});case P:return Object(i.a)(Object(i.a)({},e),{},{loadingComments:!0,error:""});case T:return Object(i.a)(Object(i.a)({},e),{},{loadingComments:!1,selectedComments:t.payload,error:""});case Y:return Object(i.a)(Object(i.a)({},e),{},{loadingComments:!1,error:""});case I:return Object(i.a)(Object(i.a)({},e),{},{selectedVideo:t.payload});default:return e}},z={key:"root",storage:s.n(K).a},U=Object(W.combineReducers)({youtube:q}),B=Object(R.a)(z,U),Q=Object(W.createStore)(B,Object(Z.composeWithDevTools)(Object(W.applyMiddleware)(D.a))),G=Object(R.b)(Q),_=s(135);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s(280),s(281);a.a.render(Object(r.jsx)(y.a,{store:Q,children:Object(r.jsx)(_.a,{persistor:G,children:Object(r.jsx)(F,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[282,1,2]]]);
//# sourceMappingURL=main.233fa012.chunk.js.map